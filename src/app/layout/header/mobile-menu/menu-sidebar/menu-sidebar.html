<div 
class="mobile_menu_modal"
(click)="closeMenu()"
>
    <div 
    class="modal_box"
    (click)="preventClose($event)"
    >
        <aside class="mobile_menu_sidebar">
            <div>
                <div class="sidebar_header">
                    <logo-icon 
                    [size]="50"
                    />
                    <exit-icon 
                    color="light"
                    [size]="30"
                    (onClick)="closeMenu()"
                    />
                </div>
                <nav class="sidebar_navigation">
                    <a class="menu_item" 
                    routerLink="/home"
                    (click)="closeMenu()"
                    >
                        Home
                    </a>
                    <button class="menu_item" (click)="tourSectionToggle()">
                        <span>
                            Tours
                        </span>
                        @switch (isTourSectionOpen()) {
                            @case (true) {
                                <up-arrow 
                                color="light"
                                [size]="19"
                                />
                            }
    
                            @case (false) {
                                <down-arrow 
                                color="light"
                                [size]="19"
                                />
                            }
                        }
                    </button>
                    @if ( isTourSectionOpen() ) {
                        @for (title of tourTitles(); track title) {
                            <button class="tours_menu_item">
                                <span>
                                    {{ title }}
                                </span>
                            </button>    
                        }
                    }
                    <button class="menu_item" (click)="guideSectionToggle()">
                        <span>
                            Guides
                        </span>
                        @switch (isGuideSectionOpen()) {
                            @case (true) {
                                <up-arrow 
                                color="light"
                                [size]="19"
                                />
                            }
    
                            @case (false) {
                                <down-arrow 
                                color="light"
                                [size]="19"
                                />
                            }
                        }
                    </button>
                    @if ( isGuideSectionOpen() ) {
                        @for (guide of guides(); track guide) {
                            <button class="guides_menu_item">
                                <span>
                                    {{ guide.name }} {{ guide.lastname }}
                                </span>
                                <span class="guides_ratings">
                                    {{ guide.rating |  ratingStars}}
                                </span>
                            </button>    
                        }
                    }
                    <a class="menu_item">
                        Contacts
                    </a>
                </nav>
            </div>

            <div class="sidebar_footer">
                <auth-buttons (closeMenu)="closeMenu()"/>
            </div>

        </aside>
    </div>
</div>